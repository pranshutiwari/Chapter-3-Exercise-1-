setwd("~/Research/test1/refineassignment")
refinesheet<-read.csv("C:/Users/IBM_ADMIN/Desktop/refine.xlsx - Sheet1.csv")
library(dplyr)
library(tidyr)
separate(refinesheet,Product.code...number,c("Productcode","Number"))
refinesheet2<-refinesheet%>% separate(Product.code...number,c("Productcode","Number"))
str(refinesheet2)
print(refinesheet2)
f<-data.frame(productcat=c("Smartphone","TV","Laptop","Tablet"),Productcode=c("p","v","x","q"))
print(f)
left_join(f,refinesheet2,by="Productcode")
refinesheet3<-left_join(f,refinesheet2,by="Productcode")
print(refinesheet3)
str(refinesheet3)
unite(refinesheet3,"full_address",address,city,country,sep="-")
refinesheet4<-unite(refinesheet3,"full_address",address,city,country,sep="-")
print(refinesheet4)
refinesheet5<-refinesheet4%>% mutate(company_philips=ifelse(refinesheet4$company=="Philips",1,0))
refinesheet6<-refinesheet5%>% mutate(company_akzo=ifelse(refinesheet5$company=="akzo",1,0))
refinesheet7<-refinesheet6%>% mutate(company_vanHouten=ifelse(refinesheet6$company=="Van Houten",1,0))
refinesheet8<-refinesheet7%>% mutate(company_unilever=ifelse(refinesheet7$company=="unilever",1,0))
print(refinesheet8)
refinesheet9<-refinesheet8%>% mutate(Product_smartphone=ifelse(refinesheet8$productcat=="Smartphone",1,0))
refinesheet10<-refinesheet9 %>% mutate(Product_TV=ifelse(refinesheet8$productcat=="TV",1,0))
refinesheet11<-refinesheet10 %>% mutate(Product_Laptop=ifelse(refinesheet10$productcat=="Laptop",1,0))
refine_clean2<-refinesheet11 %>% mutate(Product_tablet=ifelse(refinesheet11$productcat=="Tablet",1,0))
setwd("~/Research/test1/refineassignment")
write.csv(refine_clean2,file='refine_clean2.csv')
print(refine_clean2)
